<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet author="eitarg (generated)" id="1543412736052-1">
        <createTable tableName="cleaning_time">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="cleaning_time_pkey"/>
            </column>
            <column name="bathroom_cleaning_time" type="INTEGER"/>
            <column name="big_room_cleaning_time" type="INTEGER"/>
            <column name="dry_carpet_cleaning_time" type="FLOAT8"/>
            <column name="furniture_and_coatings_cleaning_time" type="FLOAT8"/>
            <column name="industrial_cleaning_time" type="FLOAT8"/>
            <column name="office_cleaning_time" type="FLOAT8"/>
            <column name="pool_cleaning_time" type="FLOAT8"/>
            <column name="repair_and_construction_cleaning_time" type="FLOAT8"/>
            <column name="small_room_cleaning_time" type="INTEGER"/>
            <column name="spring_cleaning_time" type="FLOAT8"/>
            <column name="standard_room_cleaning_time" type="FLOAT8"/>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-2">
        <createTable tableName="customers">
            <column name="cleaning_notifications" type="BOOLEAN"/>
            <column name="confirmed" type="BOOLEAN"/>
            <column name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="customers_pkey"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-3">
        <createTable tableName="feedback">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="feedback_pkey"/>
            </column>
            <column name="rate" type="INTEGER"/>
            <column name="text" type="VARCHAR(255)"/>
            <column name="service_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="customer_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-4">
        <createTable tableName="orders">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="orders_pkey"/>
            </column>
            <column name="address" type="VARCHAR(255)"/>
            <column name="lat" type="FLOAT8"/>
            <column name="lon" type="FLOAT8"/>
            <column name="bathrooms_count" type="INTEGER"/>
            <column name="big_rooms_count" type="INTEGER"/>
            <column name="cleaning_day" type="date"/>
            <column name="cleaning_time" type="VARCHAR(255)"/>
            <column name="cleaning_type" type="VARCHAR(255)"/>
            <column name="duration" type="VARCHAR(255)"/>
            <column name="unregistered_customer_email" type="VARCHAR(255)"/>
            <column name="estimated_time" type="TIME WITHOUT TIME ZONE"/>
            <column name="frequency" type="VARCHAR(255)"/>
            <column name="price" type="numeric(19, 2)"/>
            <column name="small_rooms_count" type="INTEGER"/>
            <column name="status" type="VARCHAR(255)"/>
            <column name="service_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="customer_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-5">
        <createTable tableName="prices">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="prices_pkey"/>
            </column>
            <column name="base_price" type="numeric(19, 2)"/>
            <column name="bathroom" type="FLOAT8"/>
            <column name="big_room" type="FLOAT8"/>
            <column name="dry_carpet_cleaning" type="FLOAT8"/>
            <column name="furniture_and_coatings_cleaning" type="FLOAT8"/>
            <column name="industrial_cleaning" type="FLOAT8"/>
            <column name="office_cleaning" type="FLOAT8"/>
            <column name="pool_cleaning" type="FLOAT8"/>
            <column name="repair_and_construction_cleaning" type="FLOAT8"/>
            <column name="small_room" type="FLOAT8"/>
            <column name="spring_cleaning" type="FLOAT8"/>
            <column name="standard_room_cleaning" type="FLOAT8"/>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-6">
        <createTable tableName="roles">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="roles_pkey"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-7">
        <createTable tableName="services">
            <column name="confirmed" type="BOOLEAN"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="services_pkey"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-8">
        <createTable tableName="types_of_provided_service">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="types_of_provided_service_pkey"/>
            </column>
            <column name="dry_carpet_cleaning" type="BOOLEAN"/>
            <column name="furniture_and_coatings_cleaning" type="BOOLEAN"/>
            <column name="industrial_cleaning" type="BOOLEAN"/>
            <column name="office_cleaning" type="BOOLEAN"/>
            <column name="pool_cleaning" type="BOOLEAN"/>
            <column name="repair_and_construction_cleaning" type="BOOLEAN"/>
            <column name="spring_cleaning" type="BOOLEAN"/>
            <column name="standard_room_cleaning" type="BOOLEAN"/>
            <column name="cleaning_time_id" type="BIGINT"/>
            <column name="service_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="price_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-9">
        <createTable tableName="users">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="users_pkey"/>
            </column>
            <column name="adding_date" type="date"/>
            <column name="address" type="VARCHAR(255)"/>
            <column name="lat" type="FLOAT8"/>
            <column name="lon" type="FLOAT8"/>
            <column name="ban_reason" type="VARCHAR(255)"/>
            <column name="banned" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(30)"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="username" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-10">
        <createTable tableName="users_roles">
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="roles_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-11">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="types_of_provided_service" constraintName="fk2enol7tes7md4fcwnvrqqs055" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="services" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-12">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="users_roles" constraintName="fk2o0jvgh89lemvvo17cbqvdxaa" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-13">
        <addForeignKeyConstraint baseColumnNames="price_id" baseTableName="types_of_provided_service" constraintName="fk7ajx6ih8oo5s9jpg0magjk8i0" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="prices" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-14">
        <addForeignKeyConstraint baseColumnNames="roles_id" baseTableName="users_roles" constraintName="fka62j07k5mhgifpp955h37ponj" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="roles" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-15">
        <addForeignKeyConstraint baseColumnNames="cleaning_time_id" baseTableName="types_of_provided_service" constraintName="fkfykfcsw0yhsj1w0vx4dkoeng2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cleaning_time" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-16">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="feedback" constraintName="fkgk6oc7o2w429cg01itvxhu3sj" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="services" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-17">
        <addForeignKeyConstraint baseColumnNames="customer_id" baseTableName="feedback" constraintName="fkgoq19ypartivvuoeld2s07y1o" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="customers" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-18">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="orders" constraintName="fkj7bkj6q0u3681uv3bvq21316i" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="services" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-19">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="customers" constraintName="fkpog72rpahj62h7nod9wwc28if" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-20">
        <addForeignKeyConstraint baseColumnNames="customer_id" baseTableName="orders" constraintName="fkpxtb8awmi0dk6smoh2vp1litg" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="customers" validate="true"/>
    </changeSet>
    <changeSet author="eitarg (generated)" id="1543412736052-21">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="services" constraintName="fkst1c0fb9asyyi4k7pg6kh6uyp" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users" validate="true"/>
    </changeSet>
</databaseChangeLog>
